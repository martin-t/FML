{"Top":[{"Function":{"name":"simple_sequence","parameters":["first","last"],"body":{"Block":[{"Variable":{"name":"i","value":{"Integer":0}}},{"Variable":{"name":"n","value":{"CallMethod":{"object":{"CallMethod":{"object":{"AccessVariable":{"name":"last"}},"name":"-","arguments":[{"AccessVariable":{"name":"first"}}]}},"name":"+","arguments":[{"Integer":1}]}}}},{"Variable":{"name":"arr","value":{"Array":{"size":{"AccessVariable":{"name":"n"}},"value":"Null"}}}},{"Loop":{"condition":{"CallMethod":{"object":{"AccessVariable":{"name":"i"}},"name":"<","arguments":[{"AccessVariable":{"name":"n"}}]}},"body":{"Block":[{"AssignArray":{"array":{"AccessVariable":{"name":"arr"}},"index":{"AccessVariable":{"name":"i"}},"value":{"CallMethod":{"object":{"AccessVariable":{"name":"i"}},"name":"+","arguments":[{"AccessVariable":{"name":"first"}}]}}}},{"AssignVariable":{"name":"i","value":{"CallMethod":{"object":{"AccessVariable":{"name":"i"}},"name":"+","arguments":[{"Integer":1}]}}}}]}}},{"AccessVariable":{"name":"arr"}}]}}},{"Print":{"format":"simple sequence 3:10 = ~\\n","arguments":[{"CallFunction":{"name":"simple_sequence","arguments":[{"Integer":3},{"Integer":10}]}}]}},{"Print":{"format":"simple sequence 4:4  = ~\\n","arguments":[{"CallFunction":{"name":"simple_sequence","arguments":[{"Integer":4},{"Integer":4}]}}]}},{"Print":{"format":"simple sequence -1:1 = ~\\n","arguments":[{"CallFunction":{"name":"simple_sequence","arguments":[{"Integer":-1},{"Integer":1}]}}]}},{"Function":{"name":"too_clever_by_half_sequence","parameters":["first","last"],"body":{"Block":[{"Variable":{"name":"i","value":{"Integer":0}}},{"Variable":{"name":"n","value":{"CallMethod":{"object":{"CallMethod":{"object":{"AccessVariable":{"name":"last"}},"name":"-","arguments":[{"AccessVariable":{"name":"first"}}]}},"name":"+","arguments":[{"Integer":1}]}}}},{"Array":{"size":{"AccessVariable":{"name":"n"}},"value":{"Block":[{"Variable":{"name":"e","value":{"CallMethod":{"object":{"AccessVariable":{"name":"i"}},"name":"+","arguments":[{"AccessVariable":{"name":"first"}}]}}}},{"AssignVariable":{"name":"i","value":{"CallMethod":{"object":{"AccessVariable":{"name":"i"}},"name":"+","arguments":[{"Integer":1}]}}}},{"AccessVariable":{"name":"e"}}]}}}]}}},{"Print":{"format":"too clever by half sequence 3:10 = ~\\n","arguments":[{"CallFunction":{"name":"too_clever_by_half_sequence","arguments":[{"Integer":3},{"Integer":10}]}}]}},{"Print":{"format":"too clever by half sequence 4:4  = ~\\n","arguments":[{"CallFunction":{"name":"too_clever_by_half_sequence","arguments":[{"Integer":4},{"Integer":4}]}}]}},{"Print":{"format":"too clever by half sequence -1:1 = ~\\n","arguments":[{"CallFunction":{"name":"too_clever_by_half_sequence","arguments":[{"Integer":-1},{"Integer":1}]}}]}},{"Function":{"name":"populate_sieve","parameters":["arr","arr_len","interval"],"body":{"Block":[{"Variable":{"name":"i","value":{"CallMethod":{"object":{"AccessVariable":{"name":"interval"}},"name":"-","arguments":[{"Integer":1}]}}}},{"Loop":{"condition":{"CallMethod":{"object":{"AccessVariable":{"name":"i"}},"name":"<","arguments":[{"AccessVariable":{"name":"arr_len"}}]}},"body":{"Block":[{"Conditional":{"condition":{"CallMethod":{"object":"Null","name":"==","arguments":[{"AccessArray":{"array":{"AccessVariable":{"name":"arr"}},"index":{"AccessVariable":{"name":"i"}}}}]}},"consequent":{"AssignArray":{"array":{"AccessVariable":{"name":"arr"}},"index":{"AccessVariable":{"name":"i"}},"value":{"AccessVariable":{"name":"interval"}}}},"alternative":{"AssignArray":{"array":{"AccessVariable":{"name":"arr"}},"index":{"AccessVariable":{"name":"i"}},"value":{"CallMethod":{"object":{"AccessArray":{"array":{"AccessVariable":{"name":"arr"}},"index":{"AccessVariable":{"name":"i"}}}},"name":"*","arguments":[{"AccessVariable":{"name":"interval"}}]}}}}}},{"AssignVariable":{"name":"i","value":{"CallMethod":{"object":{"AccessVariable":{"name":"i"}},"name":"+","arguments":[{"AccessVariable":{"name":"interval"}}]}}}}]}}}]}}},{"Function":{"name":"find_values_equal_to_index","parameters":["arr","arr_len"],"body":{"Block":[{"Variable":{"name":"i","value":{"Integer":0}}},{"Variable":{"name":"buffer","value":{"Array":{"size":{"AccessVariable":{"name":"arr_len"}},"value":"Null"}}}},{"Variable":{"name":"buffer_pointer","value":{"Integer":0}}},{"Loop":{"condition":{"CallMethod":{"object":{"AccessVariable":{"name":"i"}},"name":"<","arguments":[{"AccessVariable":{"name":"arr_len"}}]}},"body":{"Block":[{"Conditional":{"condition":{"CallMethod":{"object":{"CallMethod":{"object":{"AccessVariable":{"name":"i"}},"name":"+","arguments":[{"Integer":1}]}},"name":"==","arguments":[{"AccessArray":{"array":{"AccessVariable":{"name":"arr"}},"index":{"AccessVariable":{"name":"i"}}}}]}},"consequent":{"Block":[{"AssignArray":{"array":{"AccessVariable":{"name":"buffer"}},"index":{"AccessVariable":{"name":"buffer_pointer"}},"value":{"AccessArray":{"array":{"AccessVariable":{"name":"arr"}},"index":{"AccessVariable":{"name":"i"}}}}}},{"AssignVariable":{"name":"buffer_pointer","value":{"CallMethod":{"object":{"AccessVariable":{"name":"buffer_pointer"}},"name":"+","arguments":[{"Integer":1}]}}}}]},"alternative":"Null"}},{"AssignVariable":{"name":"i","value":{"CallMethod":{"object":{"AccessVariable":{"name":"i"}},"name":"+","arguments":[{"Integer":1}]}}}}]}}},{"AssignVariable":{"name":"i","value":{"Integer":0}}},{"Array":{"size":{"AccessVariable":{"name":"buffer_pointer"}},"value":{"Block":[{"Variable":{"name":"value","value":{"AccessArray":{"array":{"AccessVariable":{"name":"buffer"}},"index":{"AccessVariable":{"name":"i"}}}}}},{"AssignVariable":{"name":"i","value":{"CallMethod":{"object":{"AccessVariable":{"name":"i"}},"name":"+","arguments":[{"Integer":1}]}}}},{"AccessVariable":{"name":"value"}}]}}}]}}},{"Block":[{"Variable":{"name":"len","value":{"Integer":13}}},{"Variable":{"name":"arr","value":{"Array":{"size":{"AccessVariable":{"name":"len"}},"value":"Null"}}}},{"Variable":{"name":"i","value":{"Integer":1}}},{"Loop":{"condition":{"CallMethod":{"object":{"AccessVariable":{"name":"i"}},"name":"<","arguments":[{"CallMethod":{"object":{"AccessVariable":{"name":"len"}},"name":"+","arguments":[{"Integer":1}]}}]}},"body":{"Block":[{"CallFunction":{"name":"populate_sieve","arguments":[{"AccessVariable":{"name":"arr"}},{"AccessVariable":{"name":"len"}},{"AccessVariable":{"name":"i"}}]}},{"Print":{"format":"after interval ~ -> ~\\n","arguments":[{"AccessVariable":{"name":"i"}},{"AccessVariable":{"name":"arr"}}]}},{"AssignVariable":{"name":"i","value":{"CallMethod":{"object":{"AccessVariable":{"name":"i"}},"name":"+","arguments":[{"Integer":1}]}}}}]}}},{"Print":{"format":"primes from 1:~ = ~\\n","arguments":[{"AccessVariable":{"name":"len"}},{"CallFunction":{"name":"find_values_equal_to_index","arguments":[{"AccessVariable":{"name":"arr"}},{"AccessVariable":{"name":"len"}}]}}]}}]}]}
